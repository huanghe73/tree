{"version":3,"sources":["webpack:///./examples/dynamic.js"],"names":["generateTreeNodes","treeNode","arr","key","props","eventKey","i","push","name","setLeaf","treeData","curKey","level","loopLeaf","data","lev","l","forEach","item","length","indexOf","children","isLeaf","getNewTreeData","child","loop","Demo","state","checkedKeys","onSelect","info","console","log","onCheck","setState","onLoadData","Promise","resolve","setTimeout","map","treeNodes","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"examples/dynamic.js","sourcesContent":["/* eslint no-console:0 */\r\nimport 'rc-tree/assets/index.less';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Tree, { TreeNode } from 'rc-tree';\r\n\r\nfunction generateTreeNodes(treeNode) {\r\n  const arr = [];\r\n  const key = treeNode.props.eventKey;\r\n  for (let i = 0; i < 3; i++) {\r\n    arr.push({ name: `leaf ${key}-${i}`, key: `${key}-${i}` });\r\n  }\r\n  return arr;\r\n}\r\n\r\nfunction setLeaf(treeData, curKey, level) {\r\n  const loopLeaf = (data, lev) => {\r\n    const l = lev - 1;\r\n    data.forEach((item) => {\r\n      if ((item.key.length > curKey.length) ? item.key.indexOf(curKey) !== 0 :\r\n        curKey.indexOf(item.key) !== 0) {\r\n        return;\r\n      }\r\n      if (item.children) {\r\n        loopLeaf(item.children, l);\r\n      } else if (l < 1) {\r\n        item.isLeaf = true;\r\n      }\r\n    });\r\n  };\r\n  loopLeaf(treeData, level + 1);\r\n}\r\n\r\nfunction getNewTreeData(treeData, curKey, child, level) {\r\n  const loop = (data) => {\r\n    if (level < 1 || curKey.length - 3 > level * 2) return;\r\n    data.forEach((item) => {\r\n      if (curKey.indexOf(item.key) === 0) {\r\n        if (item.children) {\r\n          loop(item.children);\r\n        } else {\r\n          item.children = child;\r\n        }\r\n      }\r\n    });\r\n  };\r\n  loop(treeData);\r\n  setLeaf(treeData, curKey, level);\r\n}\r\n\r\nclass Demo extends React.Component {\r\n  state = {\r\n    treeData: [],\r\n    checkedKeys: [],\r\n  };\r\n  componentDidMount() {\r\n    setTimeout(() => {\r\n      this.setState({\r\n        treeData: [\r\n          { name: 'pNode 01', key: '0-0' },\r\n          { name: 'pNode 02', key: '0-1' },\r\n          { name: 'pNode 03', key: '0-2', isLeaf: true },\r\n        ],\r\n        checkedKeys: ['0-0'],\r\n      });\r\n    }, 100);\r\n  }\r\n  onSelect = (info) => {\r\n    console.log('selected', info);\r\n  }\r\n  onCheck = (checkedKeys) => {\r\n    console.log(checkedKeys);\r\n    this.setState({\r\n      checkedKeys,\r\n    });\r\n  }\r\n  onLoadData = (treeNode) => {\r\n    console.log('load data...');\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const treeData = [...this.state.treeData];\r\n        getNewTreeData(treeData, treeNode.props.eventKey, generateTreeNodes(treeNode), 2);\r\n        this.setState({ treeData });\r\n        resolve();\r\n      }, 500);\r\n    });\r\n  }\r\n  render() {\r\n    const loop = (data) => {\r\n      return data.map((item) => {\r\n        if (item.children) {\r\n          return <TreeNode title={item.name} key={item.key}>{loop(item.children)}</TreeNode>;\r\n        }\r\n        return (\r\n          <TreeNode title={item.name} key={item.key} isLeaf={item.isLeaf}\r\n            disabled={item.key === '0-0-0'}\r\n          />\r\n        );\r\n      });\r\n    };\r\n    const treeNodes = loop(this.state.treeData);\r\n    return (\r\n      <div>\r\n        <h2>dynamic render</h2>\r\n        <Tree\r\n          onSelect={this.onSelect}\r\n          checkable onCheck={this.onCheck} checkedKeys={this.state.checkedKeys}\r\n          loadData={this.onLoadData}\r\n        >\r\n          {treeNodes}\r\n        </Tree>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nReactDOM.render(<Demo />, document.getElementById('__react-content'));\r\n\n\n\n// WEBPACK FOOTER //\n// ./examples/dynamic.js"],"sourceRoot":""}